language: java
jdk:
- oraclejdk8
notifications:
  email: false
env:
  global:
  - secure: 4wFQBunAFm6ob/V79EZliFGd3Ikz3fc/5W+M6ucG21+WEWpKbwVVBWUZzkQcxqXprZyRO9TceHGn6zyuN34Ob1UlR7xL9cfDPKEAJqv5+WHLORAoQwSKIsz0r/B3zjZPOQzDqOiQF1kR6Dt1BKataPSVNUBfIAk6G3WiNZ175WDPDALPwVKRn78TzlXemovtnXmyo+dGZVdG18NKM1gG0QiwNY5EIc296crhahG20OL80/BKV71KDohkb49hNfTKJ0pA0Vc5JWJu8HysehyJPFC7zjzClWtj+nVE+SoJexQW7JAeyN7Y0ekGWtLrsA2r9TGeNyXYXXQ8sGfhnTMwF+jB4YxLHoanGjvxsHnWH1rT1Sx+V82XO26hIGAvm1Y9V7OfKmU59EggAi3ERUOaoPg81KgCUEMV/Yg6Dh6tjL3/4zAL7vU6F83DxjP7ObC8WFc5eoSg4WwfoE9WVR5B6/l4FTMt53Rzexuoa7cFO5eyrm3X4W1/f88MNB7cFpra93Ue298AsIQtp4zDhA6rg7AZ1Ynfp7PMth3yfsXRl1FzfmlOXS9wXej5/T2BhVYfbXcNi2BXQ1TMw3JQ+rZyGYgUov1lYdPwf8MqwcVkoaqwo6Mw6wDispNIkh92+zMlZbu3NqE5JUu3XPZUpb9qLhczTncVvragTfpvYBea5bU=
  - # ^^ OSSRH_JIRA_USERNAME
  - secure: u/5kBNdNLn1WJ9cjrJtfxQdT8MZFyBJGKulGqsrB0LjKS0CNnYT0QsA/8fzpSf/kiQ49RSlJepuvyziC0xmZosVGNjESm5BSloFBi3fZUm9IH2w8cvcBvOQ1Y8jcTEgOrs5Fqj1HcyKuJIwh4Zv9iwxFeQP0H/m38mG3B2aHCXmqFPCEFkxBkwkIO0df3neIqx021XkiGO5zJEb0Zk3UMWeZkK6MwcKYnRuFa7eJIifauzqQKTEk17HgtpD4VHaYARPTGZ9vfWLOU0Oy/bbXLNp9aLNUNwX5oWeS8f3qeksoWoKbPaWJg6qMc/ijYpLjjh0c1Viy79KxuZThhY7/ezjA/yzOpNTTZF+D7KCJvnc6p6B0fJSzSbQpFQyYrafp/AWm87P93b/RDTRhc7Fugs7/S7b88stikZDxSccgDJBJ66VQqKzYdopuCUC2mkYGok3AxwGG8g2ElKTI4lifudx7CuKdFODc0aB8VM9BdyZdBDyNJHQuD+csFSVTE2pPtnbvMSHwxWrCcUV0pSBV6Ij4JlyIVcVOZriXJAu52xHZh86R9zV67MRhNtObs+odK9iBxiddk+DWdkn/Whdn7RxfiGw4x2w4yfyKb7tGejIvo3dSodCDkYbA3mbA06+6/+iQzp0njR3LjPBSoLxUrWVgBrIckohF5UIWmBHKy44=
  - # ^^ OSSRH_JIRA_PASSWORD
  - secure: qZUCIKp9qpZqfN/a97IRQKDg34cEDR/A1X2NxtpKRVZItlnf5hW9x7xjBu0TriQZkW2qLXovBvKnGStItBfPNbxoIUnxeTEjfmKpZtZMfO8rPwzTqOyyiyFlU7iWDC/qj5jzBiKxwAmvTe8AgH0dd+lOJ1m4UEVUGkaRJ6IWuR9ecG3Hqnb27BkkIhi2S8fyGYruZF0xh/akzM/RH9z/kPax1n+QrC4QsZNivVMJBPkLG9Y0FbUNF93MnCUiNvD8B5XBKwgS1siqIUwGHpPDo5aSdLCW/JvBZabG5XwB7hMp9Icit+eKiDYoJKe7pAQ0vADj5qB1tIZiBnMF1iflAwmSq5A/q9txNNc+YiF4y2BhKf3CD0hgG5oMmpjL9N+7Etbd85ac53dEBOFS7ZuQEAaNYXYgUa88nBsVN5jGPChsP9ZSSGpBCrsBqUfUBKo9CxYGu+MI1Mw8MnJb6esS0JX0NukV7yPDcDrcIsIxW0FNntNvhunDmmJrWk1p22Z/+sSPAhGn7rxtu8iD71dgwxRW7/H4/yg0JrZvaGLkHWsf7Lg2LdZNAy3wER0p6WnXQZsEcv17gBSZtw3HKX2nrp6Gh+jJ8eqzc0+A0Sx3GdSBnrO1InyNq9UNRP09NUrvjVq29sjpD2RFVxVY1AkQngqKW19t5FMtyAWZLs741l0=
  - # ^^ GPG_KEY_NAME
  - secure: ZXF87gUGwIiSkECnGHdbzFe5JD+fOVamtNYIOMVkhhYu6IdoTs5FI7xeRQcYCiEjEorbyp+87VmVnVDsxPi6disTYbyvluqjzt0QOlfCeDuFbbuplDEay7T6nnyJFzXSD58IaSKri9b3TkJpYqQ9mHwzzRhbQH8kaateEa1woACEc53D+TcZ9jbwo8D/H+jCsHEza69nGcQlUqfYWmd6QOBUe0GEYoDjx4A7KlGQ+jxGRS/bc8mFM7K4nwJnGfX8OYUZBf3Jz6gpsnm4dzEvea5rDzGM34ZXo+esuhzQTABogKiRqketIBkYokCqSMOiN6GjhYLNdbxYtZEgH3HB6JNz3+DjsATdeHEZ3j2Y10bzwyKssAaOLbHYYOY6SplJEK7/KGckDTyzI1BFzpve+XlGbKpr6eaDoFSVVOi4TLd7xiVvm6KdH75XRlJx9ENNbP8UxCv48/9Wi1X9ToivQV/B9r1wFrM3oisYqzAtT9OFxaE/mUHlOtvqP/wi6GAqziKsXwTWDxV9ltGBR8LOM4pN7JsFKRlnJBb0oblqfS4cQxlhE3FrF5/mvrEpKQjzyZ2p6cXujmbiHzUiayQ6qBoUENmN+yBlSiVCBWqYrYPXrKI1L+VyNDkS5NJEqoMhC8wnNAucNxVrt5Ku34iJMNJ5oJ5Ka+Cr1YnGukpDou4=
  - # ^^ GPG_PASSPHRASE

  install: mvn install -P !release -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !release -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh